using System;

namespace CosmicRebellion
{
    class Program
    {
        static void Main()
        {
            Console.WriteLine("Введите имя вашего персонажа: ");
            string name = Console.ReadLine();
            Console.WriteLine("Введите возраст: ");
            byte age = byte.Parse(Console.ReadLine());

            Console.WriteLine($"\n{name}, год 2187. Вы - инженер на космической станции 'Орион', " +
                "обслуживающей межгалактические ворота.\nВнезапно станцию захватывают повстанцы " +
                "из фракции 'Стальные Тени'. Ваши действия?\n\n" +
                "1: Попытаться отключить систему жизнеобеспечения в их секторе\n" +
                "2: Спрятаться в вентиляционных шахтах\n" +
                "3: Взять импровизированное оружие и дать отпор");

            byte choice = byte.Parse(Console.ReadLine());
            
            if (choice == 1)
            {
                Console.WriteLine("\nВы пробираетесь к центральному терминалу, но видите двух охранников.\n\n" +
                    "1: Попытаться обойти их через сервисный тоннель\n" +
                    "2: Использовать терминал дистанционно через планшет");
                
                byte sabotageOption = byte.Parse(Console.ReadLine());
                
                if (sabotageOption == 1)
                {
                    Console.WriteLine("\nВ тоннеле вы находите ящик с электромагнитными гранатами.\n\n" +
                        "1: Установить на терминал взрывчатку\n" +
                        "2: Продолжить путь к системе жизнеобеспечения");
                    
                    byte weaponChoice = byte.Parse(Console.ReadLine());
                    
                    if (weaponChoice == 1)
                    {
                        Console.WriteLine("\nГрохот взрыва привлекает внимание. Но система отключена!\n" +
                            "Повстанцы в панике. Вы слышите голос капитана по рации - помощь уже в пути!");
                    }
                    else
                    {
                        Console.WriteLine("\nВы добираетесь до панели управления, но она требует\n" +
                            "код доступа капитана. Вас обнаруживают...");
                    }
                }
                else
                {
                    Console.WriteLine("\nДистанционное подключение активирует сигнализацию!\n\n" +
                        "1: Попытаться взломать систему\n" +
                        "2: Бежать к спасательным капсулам");
                    
                    byte emergencyChoice = byte.Parse(Console.ReadLine());
                    
                    if (emergencyChoice == 1)
                    {
                        Console.WriteLine("\nВзлом успешен! Давление в их секторе падает.\n" +
                            "Вы видите как повстанцы спешно надевают скафандры.");
                    }
                    else
                    {
                        Console.WriteLine("\nКапсула успешно стартует, но автоматический\n" +
                            "курс ведет вас прямо к их материнскому кораблю...");
                    }
                }
            }
            else if (choice == 2)
            {
                Console.WriteLine("\nВ тесных шахтах вы слышите голоса преследователей.\n" +
                    "Неожиданно замечаете панель управления гравитацией.\n\n" +
                    "1: Изменить гравитацию в их секторе\n" +
                    "2: Продолжить скрытное передвижение");
                
                byte hideOption = byte.Parse(Console.ReadLine());
                
                if (hideOption == 1)
                {
                    Console.WriteLine("\nПовстанцы взлетают к потолку! Вы слышите крики и удары.\n\n" +
                        "1: Воспользоваться моментом чтобы добраться до оружейной\n" +
                        "2: Заблокировать их в этом состоянии");
                    
                    byte gravityChoice = byte.Parse(Console.ReadLine());
                    
                    if (gravityChoice == 1)
                    {
                        Console.WriteLine("\nС оружием в руках вы организуете сопротивление!\n" +
                            "Оставшийся персонал станции присоединяется к вам.");
                    }
                    else
                    {
                        Console.WriteLine("\nСистема дает сбой через 3 минуты. Повстанцы,\n" +
                            "теперь крайне злые, начинают методичный обыск станции...");
                    }
                }
                else
                {
                    Console.WriteLine("\nВы находите тайный проток в архив. На экранах видите,\n" +
                        "как повстанцы активируют межгалактические ворота...\n\n" +
                        "1: Попытаться перенаправить координаты\n" +
                        "2: Саботировать систему ворот");
                    
                    byte archiveChoice = byte.Parse(Console.ReadLine());
                    
                    if (archiveChoice == 1)
                    {
                        Console.WriteLine("\nВорота открываются... прямо в нейтронную звезду!\n" +
                            "Повстанческие корабли затягивает в гравитационный колодец.");
                    }
                    else
                    {
                        Console.WriteLine("\nВзрыв системы ворот создает импульс, выводящий\n" +
                            "из строя всю станцию. Вы остаетесь в мертвом металлическом гробу...");
                    }
                }
            }
            else
            {
                Console.WriteLine("\nС импровизированной плазменной горелкой вы\n" +
                    "устраиваете засаду в узком коридоре.\n\n" +
                    "1: Атаковать первую же цель\n" +
                    "2: Попытаться захватить лидера");
                
                byte attackOption = byte.Parse(Console.ReadLine());
                
                if (attackOption == 1)
                {
                    Console.WriteLine("\nВаш выстрел проходит навылет через двух повстанцев!\n" +
                        "Остальные в панике отступают.\n\n" +
                        "1: Преследовать отступающих\n" +
                        "2: Занять оборонительную позицию");
                    
                    byte pursuitChoice = byte.Parse(Console.ReadLine());
                    
                    if (pursuitChoice == 1)
                    {
                        Console.WriteLine("\nВ пылу погони вы оказываетесь в ангаре с\n" +
                            "последним уцелевшим шаттлом. Куда направите курс?\n\n" +
                            "1: К ближайшей колонии\n" +
                            "2: В неизведанные сектора");
                        
                        byte escapeChoice = byte.Parse(Console.ReadLine());
                        
                        if (escapeChoice == 1)
                        {
                            Console.WriteLine("\nКолония оказывается базой повстанцев...\n" +
                                "Вас встречают вооруженные люди в знакомых черных доспехах.");
                        }
                        else
                        {
                            Console.WriteLine("\nГиперпространственный скачок приводит вас\n" +
                                "к древней артефактной структуре неизвестного происхождения...");
                        }
                    }
                    else
                    {
                        Console.WriteLine("\nВаша оборона превращается в настоящую крепость!\n" +
                            "Повстанцы несут тяжелые потери и запрашивают переговоры.");
                    }
                }
                else
                {
                    Console.WriteLine("\nВам удается оглушить лидера фракции, но его\n" +
                        "телохранители открывают шквальный огонь!\n\n" +
                        "1: Использовать лидера как живой щит\n" +
                        "2: Попытаться договориться");
                    
                    byte hostageChoice = byte.Parse(Console.ReadLine());
                    
                    if (hostageChoice == 1)
                    {
                        Console.WriteLine("\nТелохранители стреляют без разбора! Лидер убит,\n" +
                            "а вы тяжело ранены. Повстанцы дезорганизованы.");
                    }
                    else
                    {
                        Console.WriteLine("\nЛидер смеется: 'Ты думаешь мы так просто сдадимся?'\n" +
                            "Из его наручного устройства раздается сигнал самоуничтожения...");
                    }
                }
            }
        }
    }
}